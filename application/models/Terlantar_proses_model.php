<?php

/* 

 * Generated by CRUDigniter v3.2 

 * www.crudigniter.com

 */
class Terlantar_proses_model extends CI_Model

{

    protected $table = 'terlantar_proses';

    function __construct()

    {
        parent::__construct();
    }

    function get_all_terlantar_proses()

    {
        return $this->db->get($this->table)->result_array();
    }

    function get_all_terlantar_proses_id()

    {
        $this->db->select('terlantar_id');
        $proseses = $this->db->get($this->table)->result_array();
        $data = [];
        foreach ($proseses as $proses) {
            array_push($data, $proses['terlantar_id']);
        }
        return $data;
    }

    function add_terlantar_proses($terlantar_id, $admin_id)

    {
        $this->db->insert($this->table, ['terlantar_id' => $terlantar_id, 'proses_by' => $admin_id, 'proses_at' => date('Y-m-d H:i:s')]);
        return $this->db->insert_id();
    }

    public function is_using($kolom, $id)

    {
        $data = $this->db->get_where($this->table, array($kolom => $id))->row_array();
        if ($data) {
            return true;
        } else {
            return false;
        }
    }

    function delete_terlantar_proses($terlantar_id)

    {
        return $this->db->delete($this->table, array('terlantar_id' => $terlantar_id));
    }

    public function count_all()
    {
        return $this->db->count_all($this->table); // Untuk menghitung semua data siswa

    }
}
